# ZeroTier Network Configuration
# Get your Network ID from https://my.zerotier.com
ZT_NETWORK=your_zerotier_network_id_here

# Port Forwarding Rules
# Format: EXTERNAL_PORT:DEST_IP:DEST_PORT
# Multiple rules separated by comma
PORT_FORWARD=873:172.19.0.3:873

# === GATEWAY MODE SETTINGS ===

# Gateway Mode (NEW in v2.0)
# false = Backend mode: ZeroTier -> Docker (default, backward compatible)
# true = Gateway mode: Internet -> ZeroTier  
# hybrid = Both: Internet & ZeroTier -> Docker/ZeroTier
GATEWAY_MODE=false

# Allowed Sources (NEW in v2.0)
# Comma-separated list of IP addresses/networks allowed to connect
# Use "any" to allow from anywhere
# Examples: 10.0.0.0/8,192.168.1.100,203.0.113.0/24
ALLOWED_SOURCES=any

# Custom ZeroTier Routes (OPTIONAL - Advanced Usage)
# Format: NETWORK:GATEWAY,NETWORK:GATEWAY
# Use when you need to route non-ZeroTier networks through ZeroTier
# Example: 192.168.1.0/24:10.121.15.50,10.0.0.0/16:10.121.15.100
#FORCE_ZEROTIER_ROUTES=

# === USAGE EXAMPLES ===

# Example 1: Traditional Backend Mode (existing functionality)
# ZT_NETWORK=a03edd986708c010
# PORT_FORWARD=873:172.19.0.3:873,22:172.19.0.4:22
# GATEWAY_MODE=false

# Example 2: Gateway Mode (Internet -> ZeroTier chain)
# ZT_NETWORK=a03edd986708c010
# PORT_FORWARD=8989:10.121.15.16:8989,443:10.121.15.20:443
# GATEWAY_MODE=true
# ALLOWED_SOURCES=203.0.113.0/24

# Example 3: Hybrid Mode (for debugging/testing)
# ZT_NETWORK=a03edd986708c010
# PORT_FORWARD=8080:172.19.0.3:80,8989:10.121.15.16:8989
# GATEWAY_MODE=hybrid
# ALLOWED_SOURCES=any

# Example 4: Complex Routing with Custom Networks
# ZT_NETWORK=a03edd986708c010
# PORT_FORWARD=8080:192.168.1.100:80
# GATEWAY_MODE=true
# FORCE_ZEROTIER_ROUTES=192.168.1.0/24:10.121.15.50
# ALLOWED_SOURCES=203.0.113.0/24

# === REAL WORLD SCENARIOS ===

# Scenario 1: Home Lab Access
# Connect to your home services from anywhere
# ZT_NETWORK=your_home_network_id
# PORT_FORWARD=873:172.19.0.3:873,22:172.19.0.4:22,80:172.19.0.5:80
# GATEWAY_MODE=false

# Scenario 2: Corporate Gateway
# Allow external users to access internal services through ZeroTier
# ZT_NETWORK=your_corp_network_id
# PORT_FORWARD=8989:10.121.15.100:8080,8443:10.121.15.100:443
# GATEWAY_MODE=true
# ALLOWED_SOURCES=203.0.113.0/24,198.51.100.0/24

# Scenario 3: Development Environment Chain
# Internet -> Gateway Server -> ZeroTier -> Dev Server -> Services
# Gateway Server:
# ZT_NETWORK=your_dev_network_id
# PORT_FORWARD=3000:10.121.15.200:3000,8080:10.121.15.200:8080
# GATEWAY_MODE=true
#
# Dev Server:
# ZT_NETWORK=your_dev_network_id
# PORT_FORWARD=3000:172.19.0.2:3000,8080:172.19.0.3:8080
# GATEWAY_MODE=false

# Scenario 4: Multi-Network Routing
# Route traffic to networks accessible through ZeroTier nodes
# ZT_NETWORK=your_network_id
# PORT_FORWARD=3389:192.168.10.100:3389,22:192.168.20.50:22
# GATEWAY_MODE=true
# FORCE_ZEROTIER_ROUTES=192.168.10.0/24:10.121.15.10,192.168.20.0/24:10.121.15.20
# ALLOWED_SOURCES=203.0.113.0/24

# === TESTING CONFIGURATION ===

# Quick Test - Backend Mode
# ZT_NETWORK=your_test_network_id
# PORT_FORWARD=8080:172.19.0.9:80
# GATEWAY_MODE=false

# Quick Test - Gateway Mode  
# ZT_NETWORK=your_test_network_id
# PORT_FORWARD=8989:10.121.15.16:8989
# GATEWAY_MODE=true
# ALLOWED_SOURCES=any
